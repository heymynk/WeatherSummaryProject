<template>
  <lightning-card title={dynamicTitle} icon-name="standard:email">
    <template if:true={isOpenNotContacted}>
      <!-- Display Company Information Component -->
      <c-company-data
        if:true={showCompanyInformation}
        record-id={recordId}
        is-working-contacted={isWorkingContacted}
      >
      </c-company-data>

      <!-- Display Email Content Generation Component -->
      <c-generate-email
        if:true={isOpenContacted}
        record-id={recordId}
        onemailgenerated={handleEmailGenerated}
      >
      </c-generate-email>
    </template>

    <!-- Display Error -->
    <template if:true={error}>
      <div
        class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error"
      >
        <span class="slds-assistive-text">Error</span>
        <span class="slds-icon_container slds-icon-utility-error" title="error">
          <lightning-icon
            icon-name="utility:error"
            alternative-text="error"
            size="small"
          ></lightning-icon>
        </span>
        <h2>{error}</h2>
      </div>
    </template>
  </lightning-card>
</template>

<!-- Display Call Script Generation Component -->
<!-- <c-generate-call-script 
            if:true={showGenerateCallScript}
            record-id={recordId}
            oncallscriptgenerated={handleCallScriptGenerated}>
        </c-generate-call-script> -->

<!-- Display File Upload Component -->
<!-- <c-file-upload 
            if:true={showFileUpload}
            record-id={recordId}
            onfileuploaded={handleFileUploaded}>
        </c-file-upload> -->

<!-- Display Loader -->
<!-- <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template> -->
